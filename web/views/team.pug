extends templates/layout
include mixins/pcttd
block content
    div.flex-container
        table.infobox.left
            tr
                td(colspan=3, style='background-color:' + team.color1)
                    img.team-logo(src='../../img/' + team.abbreviation.toLowerCase() + '.svg')
            tr.head
                td= team.locality + ' ' + team.name
                td
                    img(src='../../img/' + (team.division.conferenceId == 7 ? 'nfc' : 'afc') + '.svg')
                td= team.division.name.substring(4, 9)
            tr
                td.head= 'Record'
                td.rec(colspan=2)= team.record
            tr
                td.head= 'Elo'
                td.rec(colspan=2)= Math.round(team.elo)
        table.infobox.center
            tr.head
                td(colspan=2).head= 'Minimum Seeding Probabilities'
            tr
                td.head= 'Wild Card #3'
                +pcttd(team.chances[0].seed7)
            tr
                td.head= 'Wild Card #2'
                +pcttd(team.chances[0].seed6)
            tr
                td.head= 'Wild Card #1'
                +pcttd(team.chances[0].seed5)
            tr
                td.head= 'Division Leader #4'
                +pcttd(team.chances[0].seed4)
            tr
                td.head= 'Division Leader #3'
                +pcttd(team.chances[0].seed3)
            tr
                td.head= 'Division Leader #2'
                +pcttd(team.chances[0].seed2)
            tr
                td.head= 'Conference Leader'
                +pcttd(team.chances[0].seed1)
        table.infobox.center
            tr.head
                td(colspan=2).head= 'Individual Seeding Probabilities'
            tr
                td.head= 'Wild Card #3'
                +pcttd(team.chances[0].seed7)
            tr
                td.head= 'Wild Card #2'
                +pcttd(team.chances[0].seed6)
            tr
                td.head= 'Wild Card #1'
                +pcttd(team.chances[0].seed5)
            tr
                td.head= 'Division Leader #4'
                +pcttd(team.chances[0].seed4)
            tr
                td.head= 'Division Leader #3'
                +pcttd(team.chances[0].seed3)
            tr
                td.head= 'Division Leader #2'
                +pcttd(team.chances[0].seed2)
            tr
                td.head= 'Conference Leader'
                +pcttd(team.chances[0].seed1)
        table.infobox.center
            tr.head
                td(colspan=2).head= 'Playoff Performance Probabilities'
            tr
                td.head= 'Host Wild Card Rnd'
                +pcttd(team.chances[0].hostWildCard)
            tr
                td.head= 'Make Division Rnd'
                +pcttd(team.chances[0].makeDivision)
            tr
                td.head= 'Host Division Rnd'
                +pcttd(team.chances[0].hostDivision)
            tr
                td.head= 'Make Conference Rnd'
                +pcttd(team.chances[0].makeConference)
            tr
                td.head= 'Host Conference Rnd'
                +pcttd(team.chances[0].hostConference)
            tr
                td.head= 'Make Super Bowl'
                +pcttd(team.chances[0].makeSuperBowl)
            tr
                td.head= 'Win Super Bowl'
                +pcttd(team.chances[0].winSuperBowl)
    //.chart
        canvas#myChart
    table.chances
        tr
            td(colspan=8).head= 'Probabilities w/ Away Victory'
            td.head= ''
            td(colspan=8).head= 'Probabilities w/ Home Victory'
        tr
            td.head= 'Super Bowl Winner'
            td.head= 'Conference Winner'
            td.head= 'Division Winner'
            td.head= 'Make Division Rnd'
            td.head= 'Conference Leader'
            td.head= 'Division Leader'
            td.head= 'Playoffs'
            td.head= 'Team'
            td.head= 'Date'
            td.head= 'Team'
            td.head= 'Playoffs'
            td.head= 'Division Leader'
            td.head= 'Conference Leader'
            td.head= 'Make Division Rnd'
            td.head= 'Division Winner'
            td.head= 'Conference Winner'
            td.head= 'Super Bowl Winner'
        each chance in chances
            tr
                +pcttd(Number(chance.awayWinSuperBowl))
                +pcttd(Number(chance.awayMakeSuperBowl))
                +pcttd(Number(chance.awayMakeConference))
                +pcttd(Number(chance.awayMakeDivision))
                +pcttd(Number(chance.awaySeed1))
                +pcttd(Number(chance.awaySeed4))
                +pcttd(Number(chance.awaySeed7))
                td.team(style='background-color:' + chance.game.awayTeam.color2)
                    a(href='./' + chance.game.awayTeam.id)
                        img(src='../img/' + chance.game.awayTeam.abbreviation.toLowerCase() + '.svg')
                td.date
                    a(href='../games/' + chance.game.id)= String(chance.game.startDateTime).substring(0, 24)
                td.team(style='background-color:' + chance.game.homeTeam.color1)
                    a(href='./' + chance.game.homeTeam.id)
                        img(src='../img/' + chance.game.homeTeam.abbreviation.toLowerCase() + '.svg')
                +pcttd(Number(chance.homeSeed7))
                +pcttd(Number(chance.homeSeed4))
                +pcttd(Number(chance.homeSeed1))
                +pcttd(Number(chance.homeMakeDivision))
                +pcttd(Number(chance.homeMakeConference))
                +pcttd(Number(chance.homeMakeSuperBowl))
                +pcttd(Number(chance.homeWinSuperBowl))
